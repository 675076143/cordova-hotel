(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bfe749a"],{"3ac0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reserveRooms"},[a("FreeRooms",{attrs:{freeRooms:[e.reserveRoom]}},[a("div",{staticStyle:{display:"flex","flex-direction":"column"}},[a("p",{staticStyle:{"font-size":"12px"}},[e._v(e._s(this.$route.params.checkInDate)+"/"+e._s(this.$route.params.checkOutDate))]),a("p",{staticStyle:{"font-size":"12px"}},[e._v("共"+e._s(this.$route.params.checkDates)+"天")])])]),a("div",{staticClass:"reserveRooms-main",model:{value:e.formValidate,callback:function(t){e.formValidate=t},expression:"formValidate"}},[a("Form",{ref:"formValidate",staticStyle:{width:"100%"},attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{staticClass:"form-item",attrs:{label:"房间数",prop:"roomCount"}},[a("InputNumber",{staticStyle:{width:"100%"},attrs:{max:e.reserveRoom.freeCount,min:1},model:{value:e.formValidate.roomOrderSubDtoList[0].orderNumber,callback:function(t){e.$set(e.formValidate.roomOrderSubDtoList[0],"orderNumber",t)},expression:"formValidate.roomOrderSubDtoList[0].orderNumber"}})],1),a("FormItem",{attrs:{label:"入住人",prop:"customerNames"}},[a("Input",{attrs:{placeholder:"请输入姓名"},model:{value:e.formValidate.customerNames,callback:function(t){e.$set(e.formValidate,"customerNames",t)},expression:"formValidate.customerNames"}})],1),a("FormItem",{attrs:{label:"联系手机",prop:"customerPhone"}},[a("Input",{attrs:{placeholder:"请输入您的电话号码"},model:{value:e.formValidate.customerPhone,callback:function(t){e.$set(e.formValidate,"customerPhone",t)},expression:"formValidate.customerPhone"}})],1),a("FormItem",{attrs:{label:"E-mail",prop:"customerEmail"}},[a("Input",{attrs:{placeholder:"Enter your e-mail"},model:{value:e.formValidate.customerEmail,callback:function(t){e.$set(e.formValidate,"customerEmail",t)},expression:"formValidate.customerEmail"}})],1),a("FormItem",{attrs:{label:"预计到店",prop:"eta"}},[a("Select",{staticStyle:{width:"100%"},attrs:{size:"small"},model:{value:e.formValidate.eta,callback:function(t){e.$set(e.formValidate,"eta",t)},expression:"formValidate.eta"}},e._l(e.formValidate.timeList,(function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])})),1)],1)],1)],1),e._m(0),a("div",{staticClass:"submit-bar"},[a("span",[e._v("总价： "),a("span",[e._v("￥"+e._s(e.total))])]),a("Button",{staticClass:"submit-bar-submit",staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("提交订单")])],1),a("Modal",{attrs:{title:"订单流水号："+e.modalTitle},on:{"on-ok":e.ok,"on-cancel":e.cancel},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("p",[e._v("姓名："+e._s(e.formValidate.customerNames))]),a("p",[e._v("电话："+e._s(e.formValidate.customerPhone))]),a("p",[e._v("邮箱："+e._s(e.formValidate.customerEmail))]),a("p",[e._v("预计到店："+e._s(e.formValidate.eta))]),a("p",[e._v("入住时间："+e._s(e.formValidate.roomOrderSubDtoList[0].checkInDate))]),a("p",[e._v("离店时间："+e._s(e.formValidate.roomOrderSubDtoList[0].checkOutDate))]),a("p",[e._v("订房数量："+e._s(e.formValidate.roomOrderSubDtoList[0].orderNumber))]),a("p",[e._v("套餐名称："+e._s(e.formValidate.roomOrderSubDtoList[0].solutionName))])])],1)},o=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"reserveRoom-rules"},[a("p",[e._v("预定说明：")]),a("br"),a("p",[e._v("房间整晚保留，14：00前到店可能需要等房")])])}];a("d3b7"),a("96cf");function s(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var l=a("d241"),i=a("365c"),m={name:"ReserveRoom",components:{FreeRooms:l["a"]},mounted:function(){},data:function(){var e;return{modal:!1,modalTitle:"",reserveRoom:this.$route.params.freeRoom,formValidate:(e={customerEmail:"",customerNames:"",customerPhone:"",eta:"",roomOrderSubDtoList:[{checkInDate:this.$route.params.checkInDate,checkOutDate:this.$route.params.checkOutDate,orderNumber:1,solutionName:this.$route.params.freeRoom.solutionName}]},s(e,"eta",""),s(e,"timeList",[{label:"14:00",value:this.$route.params.checkInDate+" 14:00:00"},{label:"15:00",value:this.$route.params.checkInDate+" 15:00:00"},{label:"16:00",value:this.$route.params.checkInDate+" 16:00:00"},{label:"17:00",value:this.$route.params.checkInDate+" 17:00:00"},{label:"18:00",value:this.$route.params.checkInDate+" 18:00:00"},{label:"19:00",value:this.$route.params.checkInDate+" 19:00:00"},{label:"20:00",value:this.$route.params.checkInDate+" 20:00:00"},{label:"21:00",value:this.$route.params.checkInDate+" 21:00:00"},{label:"22:00",value:this.$route.params.checkInDate+" 22:00:00"},{label:"23:00",value:this.$route.params.checkInDate+" 23:00:00"}]),e),ruleValidate:{roomCount:[],customerNames:[{required:!0,message:"入住人不能为空",trigger:"blur"}],customerPhone:[{required:!0,message:"联系手机不能为空",trigger:"blur"}],customerEmail:[{type:"email",message:"邮箱格式不正确",trigger:"blur"}],eta:[{required:!0,message:"到店日期不能为空",trigger:"change"}]}}},computed:{total:function(){var e=this.reserveRoom.solutionPrice*this.formValidate.roomOrderSubDtoList[0].orderNumber*this.$route.params.checkDates;return e}},methods:{ok:function(){this.$Message.info("Clicked ok")},cancel:function(){this.$Message.info("Clicked cancel")},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){var a,r,o,s,l,m,c,u;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=10;break}return a=t.formValidate,r=a.customerEmail,o=a.customerNames,s=a.customerPhone,l=a.eta,m=a.roomOrderSubDtoList,c={customerEmail:r,customerPhone:s,eta:l,roomOrderSubDtoList:m,customerNames:[o]},console.log(c),n.next=6,regeneratorRuntime.awrap(Object(i["b"])(c,t));case 6:u=n.sent,"200"===u.code?(t.$Message.success("预定成功！"),t.modal=!0,t.modalTitle=u.data):t.$Message.error("fail!"),n.next=11;break;case 10:t.$Message.error("Fail!");case 11:case"end":return n.stop()}}))}))}}},c=m,u=(a("86ff"),a("2877")),n=Object(u["a"])(c,r,o,!1,null,"1ddf3ab2",null);t["default"]=n.exports},"86ff":function(e,t,a){"use strict";var r=a("d602"),o=a.n(r);o.a},d602:function(e,t,a){}}]);
//# sourceMappingURL=chunk-1bfe749a.c2d6586c.js.map
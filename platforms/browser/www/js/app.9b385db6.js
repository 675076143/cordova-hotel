(function(e){function t(t){for(var a,n,s=t[0],i=t[1],u=t[2],l=0,f=[];l<s.length;l++)n=s[l],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&f.push(o[n][0]),o[n]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);d&&d(t);while(f.length)f.shift()();return c.push.apply(c,u||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],a=!0,n=1;n<r.length;n++){var s=r[n];0!==o[s]&&(a=!1)}a&&(c.splice(t--,1),e=i(i.s=r[0]))}return e}var a={},n={app:0},o={app:0},c=[];function s(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-1bfe749a":"c2d6586c"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.e=function(e){var t=[],r={"chunk-1bfe749a":1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=new Promise((function(t,r){for(var a="css/"+({}[e]||e)+"."+{"chunk-1bfe749a":"a4b2cb32"}[e]+".css",o=i.p+a,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var u=c[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===o))return t()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){u=f[s],l=u.getAttribute("data-href");if(l===a||l===o)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var a=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete n[e],d.parentNode.removeChild(d),r(c)},d.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){n[e]=0})));var a=o[e];if(0!==a)if(a)t.push(a[2]);else{var c=new Promise((function(t,r){a=o[e]=[t,r]}));t.push(a[2]=c);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,i.nc&&l.setAttribute("nonce",i.nc),l.src=s(e);var f=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(d);var r=o[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),n=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+a+": "+n+")",f.name="ChunkLoadError",f.type=a,f.request=n,r[1](f)}o[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,r){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(r,a,function(t){return e[t]}.bind(null,a));return r},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var f=0;f<u.length;f++)t(u[f]);var d=l;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},2395:function(e,t,r){},"28ec":function(e,t,r){},"365c":function(e,t,r){"use strict";r("d3b7");var a=r("bc3a"),n=r.n(a);function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a=arguments.length>3?arguments[3]:void 0;return new Promise((function(o){var c;a.$Loading.start(),c="GET"===r?n.a.get(e,{params:t}):"PUT"===r?n.a.put(e,t):"DELETE"===r?n.a.delete(e,t):n.a.post(e,t),c.then((function(e){o(e.data),a.$Loading.finish()})),c.catch((function(e){a.$Loading.error()}))}))}r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i}));var c="http://114.55.36.231:8090",s=function(e,t,r){return o(c+"/roomOrder/freeRooms",{checkInDate:e,checkOutDate:t},"GET",r)},i=function(e,t){return o(c+"/roomOrder/roomReservations",e,"POST",t)}},"4c17":function(e,t,r){"use strict";var a=r("f5d4"),n=r.n(a);n.a},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" "),r("router-link",{attrs:{to:"/reserve"}},[e._v("ReserveRoom")]),r("router-view")],1)},o=[],c={name:"app",mounted:function(){this.$router.push("/")}},s=c,i=(r("7c55"),r("2877")),u=Object(i["a"])(s,n,o,!1,null,null,null),l=u.exports,f=(r("d3b7"),r("8c4f")),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("search-free-room",{on:{freeRooms:e.getFreeRooms}}),r("free-rooms",{attrs:{freeRooms:e.freeRooms,checkInDate:e.checkInDate,checkOutDate:e.checkOutDate,"check-dates":e.checkDates}})],1)},h=[],m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"searchFreeRoom"},[r("h3",[e._v("查询空房")]),e._m(0),r("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[r("FormItem",{attrs:{label:"城市",prop:"city"}},[r("Input",{attrs:{placeholder:"输入城市"},model:{value:e.formValidate.city,callback:function(t){e.$set(e.formValidate,"city",t)},expression:"formValidate.city"}})],1),r("FormItem",{attrs:{label:"入住日期",prop:"checkDate"}},[r("DatePicker",{staticStyle:{width:"100%"},attrs:{type:"daterange",placement:"bottom-end",placeholder:"Select date",options:e.dateOption,value:e.formValidate.checkDate},on:{"on-change":e.handleChange,"on-clear":e.handleClear}})],1),r("FormItem",{attrs:{label:"入住时长"}},[r("Input",{attrs:{value:e.checkDates+" 天",disabled:""}})],1),r("Button",{staticStyle:{width:"100%"},attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("查询空房")])],1)],1)},p=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("nav",[r("ul",[r("li",[e._v("全日房")]),r("li",[e._v("终点房")])])])}],v=(r("0d03"),r("96cf"),r("365c")),b={name:"searchFreeRoom",data:function(){return{formValidate:{city:"漳州",checkDate:[]},ruleValidate:{city:[{required:!0,message:"城市名称不能为空",trigger:"blur"}],checkDate:[{type:"array",required:!0,message:"请选择时间范围",fields:{0:{required:!0,message:"请选择时间范围",trigger:"blur"},1:{required:!0,message:"请选择时间范围",trigger:"blur"}}}]},dateOption:{disabledDate:function(e){return e&&e.valueOf()<Date.now()-864e5}}}},computed:{checkDates:function(){var e=Date.parse(this.formValidate.checkDate[0]),t=Date.parse(this.formValidate.checkDate[1]);return Math.floor(Math.abs(t-e)/864e5)}},methods:{handleClear:function(){this.$set(this.formValidate.checkDate,[])},handleChange:function(e){this.formValidate.checkDate=e},handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){var r,a;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=14;break}if(0!==t.checkDates){n.next=5;break}alert("入住时长至少为一天！"),n.next=12;break;case 5:return n.next=7,regeneratorRuntime.awrap(Object(v["a"])(t.formValidate.checkDate[0],t.formValidate.checkDate[1],t));case 7:r=n.sent,a={freeRooms:r.data,checkInDate:t.formValidate.checkDate[0],checkOutDate:t.formValidate.checkDate[1],checkDates:t.checkDates},t.$emit("freeRooms",a),console.log(a),t.$Message.success("Success!");case 12:n.next=15;break;case 14:t.$Message.error("Fail!");case 15:case"end":return n.stop()}}))}))}}},g=b,k=(r("8025"),Object(i["a"])(g,m,p,!1,null,"5f64d2c0",null)),y=k.exports,D=r("d241"),_={name:"home",data:function(){return{freeRooms:[],checkInDate:"",checkOutDate:"",checkDates:1}},components:{SearchFreeRoom:y,FreeRooms:D["a"]},methods:{getFreeRooms:function(e){this.freeRooms=e.freeRooms,this.checkInDate=e.checkInDate,this.checkOutDate=e.checkOutDate,this.checkDates=e.checkDates}}},R=_,O=(r("cccb"),Object(i["a"])(R,d,h,!1,null,null,null)),w=O.exports;a["default"].use(f["a"]);var E=[{path:"/",name:"home",component:w,meta:{title:"首页"}},{path:"/reserve",name:"reserve",component:function(){return r.e("chunk-1bfe749a").then(r.bind(null,"3ac0"))}}],S=new f["a"]({mode:"history",base:"",routes:E});S.beforeEach((function(e,t,r){document.title=e.matched[0].meta.title,r()}));var x=S,C=r("2f62");a["default"].use(C["a"]);var T=new C["a"].Store({state:{},mutations:{},actions:{},modules:{}}),V=r("f825"),j=r.n(V),$=(r("f8ce"),r("41c6")),I=r.n($);if(a["default"].use(j.a),a["default"].config.productionTip=!1,a["default"].use(I.a),"file:"===window.location.protocol||"3000"===window.location.port){var P=document.createElement("script");P.setAttribute("type","text/javascript"),P.setAttribute("src","cordova.js"),document.body.appendChild(P)}a["default"].cordova.on("deviceready",(function(){console.log("Cordova : device is ready !"),console.log("Vue.cordova :",a["default"].cordova),new a["default"]({router:x,store:T,render:function(e){return e(l)}}).$mount("#app")}))},"5ced":function(e,t,r){},"7c55":function(e,t,r){"use strict";var a=r("2395"),n=r.n(a);n.a},8025:function(e,t,r){"use strict";var a=r("28ec"),n=r.n(a);n.a},cccb:function(e,t,r){"use strict";var a=r("5ced"),n=r.n(a);n.a},d241:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"freeRooms"},e._l(e.freeRooms,(function(t,a){return r("div",{staticClass:"freeRoom"},[r("div",{staticClass:"freeRoom-item"},[r("h4",[e._v(e._s(e.getTitle(a)))]),r("p",[e._v(e._s(e.getDesc(a)))]),r("p",{staticStyle:{color:"red"}},[e._v("￥"+e._s(t.solutionPrice))])]),e._t("default",[r("Button",{attrs:{type:"primary"},on:{click:function(t){return e.reserveRoom(a)}}},[e._v("预定")])])],2)})),0)},n=[],o=(r("a9e3"),{name:"FreeRooms",props:{freeRooms:{type:Array,default:[]},checkInDate:{type:String,default:""},checkOutDate:{type:String,default:""},checkDates:{type:Number,default:1}},computed:{},methods:{getTitle:function(e){return this.freeRooms[e].roomTypeName+" > "+this.freeRooms[e].solutionName},getDesc:function(e){return this.freeRooms[e].breakfastType+" "+this.freeRooms[e].bedType+" 剩余 "+this.freeRooms[e].freeCount+" 间"},reserveRoom:function(e){this.$router.push({name:"reserve",params:{freeRoom:this.freeRooms[e],checkInDate:this.checkInDate,checkOutDate:this.checkOutDate,checkDates:this.checkDates}})}}}),c=o,s=(r("4c17"),r("2877")),i=Object(s["a"])(c,a,n,!1,null,"b054881a",null);t["a"]=i.exports},f5d4:function(e,t,r){}});
//# sourceMappingURL=app.9b385db6.js.map